

section .rodata

	sine_table dd 0.00000000, 0.01745241, 0.03489950, 0.05233596, 0.06975647, 0.08715574, 0.10452846, 0.12186934, 0.13917310, 0.15643447, 0.17364818, 0.19080899, 0.20791169, 0.22495105, 0.24192190, 0.25881905, 0.27563736, 0.29237170, 0.30901699, 0.32556815, 0.34202014, 0.35836795, 0.37460659, 0.39073113, 0.40673664, 0.42261826, 0.43837115, 0.45399050, 0.46947156, 0.48480962, 0.49999999, 0.51503808, 0.52991926, 0.54463904, 0.55919290, 0.57357644, 0.58778525, 0.60181502, 0.61566148, 0.62932039, 0.64278761, 0.65605903, 0.66913061, 0.68199836, 0.69465837, 0.70710678, 0.71933980, 0.73135370, 0.74314483, 0.75470958, 0.76604444, 0.77714684, 0.78801075, 0.79863551, 0.80901699, 0.81915204, 0.82903757, 0.83867057, 0.84804809, 0.85716730, 0.86602540, 0.87461971, 0.88294759, 0.89100652, 0.89879405, 0.90630779, 0.91354546, 0.92050485, 0.92718385, 0.93358043, 0.93969262, 0.94551857, 0.95105652, 0.95630476, 0.96126170, 0.96592583, 0.97029573, 0.97437006, 0.97814760, 0.98162718, 0.98480775, 0.98768834, 0.99026807, 0.99254615, 0.99452190, 0.99609442, 0.99726321, 0.99802758, 0.99838630, 0.99834021, 0.99788800, 0.99702945, 0.99576428, 0.99409221, 0.99201297, 0.98952626, 0.98663179, 0.98332928, 0.97961847, 0.97549916, 0.97097116, 0.96603438, 0.96068875, 0.95493425, 0.94877097, 0.94219893, 0.93521823, 0.92782899, 0.92003134, 0.91182547, 0.90321158, 0.89418989, 0.88476060, 0.87492494, 0.86468318, 0.85403563, 0.84298361, 0.83152847, 0.81967157, 0.80741326, 0.79475499, 0.78169821, 0.76824447, 0.75439428, 0.74014918, 0.72551074, 0.71048057, 0.69506029, 0.67925162, 0.66305631, 0.64647615, 0.62951399, 0.61217170, 0.59445230, 0.57635877, 0.55789419, 0.53906066, 0.51986130, 0.50029925, 0.48037771, 0.46009991, 0.43946916, 0.41848984, 0.39716638, 0.37550324, 0.35350694, 0.33118300, 0.30853896, 0.28558143, 0.26231706, 0.23875255, 0.21489467, 0.19075043, 0.16632695, 0.14163145, 0.11667121, 0.09145358, 0.06598583, 0.04027539, 0.01432958, -0.01168189, -0.03779991, -0.06399390, -0.09014225, -0.11622338, -0.14221572, -0.16809775, -0.19384807, -0.21944543, -0.24486876, -0.27009723, -0.29511018, -0.31988710, -0.34440868, -0.36865487, -0.39260577, -0.41624177, -0.43954370, -0.46249162, -0.48506681, -0.50725074, -0.52902413, -0.55036794, -0.57126241, -0.59168798, -0.61162525, -0.63105509, -0.64995756, -0.66831278, -0.68610116, -0.70330328, -0.71989989, -0.73587190, -0.75120042, -0.76586779, -0.77985657, -0.79315060, -0.80574394, -0.81762093, -0.82876712, -0.83916844, -0.84881109, -0.85768047, -0.86576367, -0.87304680, -0.87951693, -0.88516106, -0.89006618, -0.89421929, -0.89760823, -0.90022175, -0.90204839, -0.90307756, -0.90329842, -0.90270093, -0.90127580, -0.89901446, -0.89590907, -0.89225445, -0.88800401, -0.88312497, -0.87763739, -0.87148415, -0.86467902, -0.85724951, -0.84923161, -0.84065181, -0.83153625, -0.82191155, -0.81180485, -0.80124376, -0.79025636

	cosine_table dd 1.00000000, 0.99984770, 0.99939083, 0.99862953, 0.99756405, 0.99619470, 0.99452190, 0.99254615, 0.99026807, 0.98768834, 0.98480775, 0.98162718, 0.97814760, 0.97437006, 0.97029573, 0.96592583, 0.96126170, 0.95630476, 0.95105652, 0.94551857, 0.93969262, 0.93358043, 0.92718385, 0.92050485, 0.91354546, 0.90630779, 0.89879405, 0.89100652, 0.88294759, 0.87461971, 0.86602540, 0.85716730, 0.84804809, 0.83867057, 0.82903757, 0.81915204, 0.80901699, 0.79863551, 0.78801075, 0.77714684, 0.76604444, 0.75470958, 0.74314483, 0.73135370, 0.71933980, 0.70710678, 0.69465837, 0.68199836, 0.66913061, 0.65605903, 0.64278761, 0.62932039, 0.61566148, 0.60181502, 0.58778525, 0.57357644, 0.55919290, 0.54463904, 0.52991926, 0.51503808, 0.49999999, 0.48480962, 0.46947156, 0.45399050, 0.43837115, 0.42261826, 0.40673664, 0.39073113, 0.37460659, 0.35836795, 0.34202014, 0.32556815, 0.30901699, 0.29237170, 0.27563736, 0.25881905, 0.24192190, 0.22495105, 0.20791169, 0.19080899, 0.17364818, 0.15643447, 0.13917310, 0.12186934, 0.10452846, 0.08715574, 0.06975647, 0.05233596, 0.03489950, 0.01745241, 0.00000000, -0.01745241, -0.03489950, -0.05233596, -0.06975647, -0.08715574, -0.10452846, -0.12186934, -0.13917310, -0.15643447, -0.17364818, -0.19080899, -0.20791169, -0.22495105, -0.24192190, -0.25881905, -0.27563736, -0.29237170, -0.30901699, -0.32556815, -0.34202014, -0.35836795, -0.37460659, -0.39073113, -0.40673664, -0.42261826, -0.43837115, -0.45399050, -0.46947156, -0.48480962, -0.49999999, -0.51503808, -0.52991926, -0.54463904, -0.55919290, -0.57357644, -0.58778525, -0.60181502, -0.61566148, -0.62932039, -0.64278761, -0.65605903, -0.66913061, -0.68199836, -0.69465837, -0.70710678, -0.71933980, -0.73135370, -0.74314483, -0.75470958, -0.76604444, -0.77714684, -0.78801075, -0.79863551, -0.80901699, -0.81915204, -0.82903757, -0.83867057, -0.84804809, -0.85716730, -0.86602540, -0.87461971, -0.88294759, -0.89100652, -0.89879405, -0.90630779, -0.91354546, -0.92050485, -0.92718385, -0.93358043, -0.93969262, -0.94551857, -0.95105652, -0.95630476, -0.96126170, -0.96592583, -0.97029573, -0.97437006, -0.97814760, -0.98162718, -0.98480775, -0.98768834, -0.99026807, -0.99254615, -0.99452190, -0.99609442, -0.99726321, -0.99802758, -0.99838630, -0.99834021, -0.99788800, -0.99702945, -0.99576428, -0.99409221, -0.99201297, -0.98952626, -0.98663179, -0.98332928, -0.97961847, -0.97549916, -0.97097116, -0.96603438, -0.96068875, -0.95493425, -0.94877097, -0.94219893, -0.93521823, -0.92782899, -0.92003134, -0.91182547, -0.90321158, -0.89418989, -0.88476060, -0.87492494, -0.86468318, -0.85403563, -0.84298361, -0.83152847, -0.81967157, -0.80741326, -0.79475499, -0.78169821, -0.76824447, -0.75439428, -0.74014918, -0.72551074, -0.71048057, -0.69506029, -0.67925162, -0.66305631, -0.64647615, -0.62951399, -0.61217170, -0.59445230, -0.57635877, -0.55789419, -0.53906066, -0.51986130, -0.50029925, -0.48037771, -0.46009991, -0.43946916, -0.41848984, -0.39716638, -0.37550324, -0.35350694, -0.33118300, -0.30853896, -0.28558143, -0.26231706, -0.23875255, -0.21489467, -0.19075043, -0.16632695, -0.14163145, -0.11667121, -0.09145358, -0.06598583, -0.04027539, -0.01432958,  0.01168189,  0.03779991,  0.06399390,  0.09014225,  0.11622338,  0.14221572, 0.16809775,  0.19384807,  0.21944543,  0.24486876,  0.27009723,  0.29511018,  0.31988710,  0.34440868, 0.36865487,  0.39260577,  0.41624177,  0.43954370,  0.46249162,  0.48506681,  0.50725074,  0.52902413, 0.55036794,  0.57126241,  0.59168798,  0.61162525,  0.63105509,  0.64995756,  0.66831278,  0.68610116, 0.70330328,  0.71989989,  0.73587190,  0.75120042,  0.76586779,  0.77985657,  0.79315060,  0.80574394, 0.81762093,  0.82876712,  0.83916844,  0.84881109,  0.85768047,  0.86576367,  0.87304680,  0.87951693, 0.88516106,  0.89006618,  0.89421929,  0.89760823,  0.90022175,  0.90204839,  0.90307756,  0.90329842, 0.90270093,  0.90127580,  0.89901446,  0.89590907,  0.89225445,  0.88800401,  0.88312497,  0.87763739, 0.87148415,  0.86467902,  0.85724951,  0.84923161,  0.84065181,  0.83153625,  0.82191155,  0.81180485, 0.80124376,  0.79025636


section .text
	global sine, cosine

	; RDI = angle
	; Result RDI = angle
normalize_angle:
	jmp .1
	.0:
	add rdi, 360

	.1:

	cmp rdi, 0
	jl .0


	jmp .3
	.2:
	sub rdi, 360

	.3:
	cmp rdi, 360
	jg .2
	ret

	; RDI = degrees
	; Result XMM0 = value
sine:
	call normalize_angle



	movd xmm0, [sine_table + rdi]

	ret

cosine:
	call normalize_angle



	movd xmm0, [cosine_table + rdi]

	ret

